"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const Comment_1 = __importDefault(global[Symbol.for('ioc.use')]("App/Models/Comment"));
const Moment_1 = __importDefault(global[Symbol.for('ioc.use')]("App/Models/Moment"));
class CommentsController {
    async store({ request, params, response }) {
        const body = request.body();
        const momentId = params.momentId;
        await Moment_1.default.findOrFail(momentId);
        body.momentId = momentId;
        const comment = await Comment_1.default.create(body);
        response.status(201);
        return {
            message: 'Coment√°rio adicionado com sucesso',
            data: comment,
        };
    }
}
exports.default = CommentsController;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ29tbWVudHNDb250cm9sbGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiQ29tbWVudHNDb250cm9sbGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQ0EsdUZBQXdDO0FBQ3hDLHFGQUFzQztBQUV0QyxNQUFxQixrQkFBa0I7SUFDNUIsS0FBSyxDQUFDLEtBQUssQ0FBQyxFQUFDLE9BQU8sRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUFDO1FBQzFDLE1BQU0sSUFBSSxHQUFHLE9BQU8sQ0FBQyxJQUFJLEVBQUUsQ0FBQTtRQUMzQixNQUFNLFFBQVEsR0FBRyxNQUFNLENBQUMsUUFBUSxDQUFBO1FBRWhDLE1BQU0sZ0JBQU0sQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLENBQUE7UUFFakMsSUFBSSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUE7UUFFeEIsTUFBTSxPQUFPLEdBQUcsTUFBTSxpQkFBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQTtRQUUxQyxRQUFRLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFBO1FBRXBCLE9BQU07WUFDRixPQUFPLEVBQUUsbUNBQW1DO1lBQzVDLElBQUksRUFBRSxPQUFPO1NBQ2hCLENBQUE7SUFDTCxDQUFDO0NBQ0o7QUFsQkQscUNBa0JDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBIdHRwQ29udGV4dENvbnRyYWN0IH0gZnJvbSAnQGlvYzpBZG9uaXMvQ29yZS9IdHRwQ29udGV4dCdcbmltcG9ydCBDb21tZW50IGZyb20gJ0FwcC9Nb2RlbHMvQ29tbWVudCdcbmltcG9ydCBNb21lbnQgZnJvbSAnQXBwL01vZGVscy9Nb21lbnQnXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbW1lbnRzQ29udHJvbGxlciB7XG4gICAgcHVibGljIGFzeW5jIHN0b3JlKHtyZXF1ZXN0LCBwYXJhbXMsIHJlc3BvbnNlfSl7XG4gICAgICAgIGNvbnN0IGJvZHkgPSByZXF1ZXN0LmJvZHkoKVxuICAgICAgICBjb25zdCBtb21lbnRJZCA9IHBhcmFtcy5tb21lbnRJZFxuXG4gICAgICAgIGF3YWl0IE1vbWVudC5maW5kT3JGYWlsKG1vbWVudElkKVxuXG4gICAgICAgIGJvZHkubW9tZW50SWQgPSBtb21lbnRJZFxuXG4gICAgICAgIGNvbnN0IGNvbW1lbnQgPSBhd2FpdCBDb21tZW50LmNyZWF0ZShib2R5KVxuXG4gICAgICAgIHJlc3BvbnNlLnN0YXR1cygyMDEpXG5cbiAgICAgICAgcmV0dXJue1xuICAgICAgICAgICAgbWVzc2FnZTogJ0NvbWVudMOhcmlvIGFkaWNpb25hZG8gY29tIHN1Y2Vzc28nLFxuICAgICAgICAgICAgZGF0YTogY29tbWVudCxcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIl19